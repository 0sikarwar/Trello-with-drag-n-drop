(this["webpackJsonpTrello-with-drag-n-drop"]=this["webpackJsonpTrello-with-drag-n-drop"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(8),r=n.n(s),d=(n(13),n(2)),i=n(3),o=n(4),l=(n(14),n(0)),j=function(e){var t=e.heading,n=e.onClose,a=e.children;return Object(l.jsx)("div",{className:"screen",children:Object(l.jsxs)("div",{className:"modal",children:[t&&Object(l.jsx)("h2",{children:t}),Object(l.jsx)("span",{className:"close",onClick:n,children:"\xd7"}),Object(l.jsx)("div",{className:"content",children:a})]})})},b=function(e){var t=e.handleAddCard,n=e.setShowAddCardModal,c=Object(a.useState)({}),s=Object(d.a)(c,2),r=s[0],o=s[1],b=Object(a.useState)(""),u=Object(d.a)(b,2),O=u[0],h=u[1],m=Object(a.useState)(""),f=Object(d.a)(m,2),x=f[0],v=f[1];return Object(l.jsxs)(j,{onClose:function(){return n(!1)},heading:"Add a new list type",children:[Object(l.jsx)("label",{htmlFor:"name",children:"Card name"}),Object(l.jsx)("input",{name:"name",value:O,onChange:function(e){h(e.target.value),o(Object(i.a)(Object(i.a)({},r),{},{name:!1}))},className:r.name?"error":""}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"desc",children:"Card Description"}),Object(l.jsx)("textarea",{name:"desc",value:x,onChange:function(e){v(e.target.value),o(Object(i.a)(Object(i.a)({},r),{},{desc:!1}))},className:r.desc?"error":""}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:function(){O&&x&&(t({name:O,desc:x}),n(!1)),o({desc:!x,name:!O})},children:"Create card"})]})},u=function(e){var t=e.name,n=e.desc,a=e.handleRmoveCard,c=e.handleCardDrag;return Object(l.jsxs)("div",{className:"card",onDragStart:c,draggable:!0,children:[Object(l.jsxs)("div",{className:"card-name",children:[Object(l.jsx)("h4",{children:t}),Object(l.jsx)("span",{className:"cross-btn",onClick:a,children:"X"})]}),Object(l.jsx)("div",{className:"card-desc",children:n})]})},O=function(e){var t=e.name,n=e.cards,c=e.handleAddCard,s=e.handleRemoveList,r=e.handleRmoveCard,o=e.listIndex,j=Object(a.useState)(!1),O=Object(d.a)(j,2),h=O[0],m=O[1];return Object(l.jsxs)("div",{className:"list",onDrop:function(e){e.preventDefault();var t=JSON.parse(e.dataTransfer.getData("card"));c(t.index,o,t.prevListIndex),r(t.index,t.prevListIndex)},onDragOver:function(e){e.preventDefault()},children:[Object(l.jsxs)("div",{className:"list-name",children:[Object(l.jsx)("h3",{children:t}),Object(l.jsx)("hr",{}),Object(l.jsx)("span",{className:"cross-btn",onClick:function(){return s(o)},children:"X"})]}),Object(l.jsx)("div",{children:n.map((function(e,t){return Object(a.createElement)(u,Object(i.a)(Object(i.a)({},e),{},{key:t,handleRmoveCard:function(){return r(t,o)},handleCardDrag:function(e){return function(e,t){e.dataTransfer.setData("card",JSON.stringify({prevListIndex:o,index:t}))}(e,t)}}))}))}),Object(l.jsx)("div",{className:"add-card-btn",onClick:function(){return m(!0)},children:"+"}),h&&Object(l.jsx)(b,{setShowAddCardModal:m,handleAddCard:function(e){return c(e,o)}})]})},h=function(e){var t=e.todoList,n=e.setTodoList,c=function(e,a,c){var s=Object(o.a)(t);if(void 0!==c){var r=s[c].cards[e];s[a].cards.unshift(r)}else s[a].cards.push(e);n(s)},s=function(e){var a=Object(o.a)(t);a.splice(e,1),n(a)},r=function(e,a){var c=Object(o.a)(t);c[a].cards.splice(e,1),n(c)};return Object(l.jsx)("div",{className:"listContainer",children:t.map((function(e,t){return Object(a.createElement)(O,Object(i.a)(Object(i.a)({},e),{},{key:t,handleAddCard:c,handleRemoveList:s,handleRmoveCard:r,listIndex:t}))}))})},m=function(e){var t=e.todoList,n=e.setTodoList,c=e.setShowAddListModal,s=Object(a.useState)({}),r=Object(d.a)(s,2),i=r[0],b=r[1],u=Object(a.useState)(""),O=Object(d.a)(u,2),h=O[0],m=O[1];return Object(l.jsxs)(j,{onClose:function(){return c(!1)},heading:"Add a new list type",children:[Object(l.jsx)("label",{htmlFor:"title",children:"List Title"}),Object(l.jsx)("input",{name:"title",value:h,onChange:function(e){m(e.target.value),b({title:!1})},className:i.title?"error":""}),Object(l.jsx)("button",{onClick:function(){if(h){var e={name:h,cards:[]};n([].concat(Object(o.a)(t),[e])),c(!1)}b({title:!h})},children:"Create List"})]})},f=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(d.a)(s,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){if(window.localStorage){var e=localStorage.getItem("todoList");e&&c(JSON.parse(e))}}),[]),Object(a.useEffect)((function(){window.localStorage&&localStorage.setItem("todoList",JSON.stringify(n))}),[n]),Object(l.jsxs)("div",{className:"boardContainer",children:[Object(l.jsx)(h,{todoList:n,setTodoList:c}),Object(l.jsx)("button",{className:"add-list-btn",onClick:function(){return o(!0)},children:"Add list"}),i&&Object(l.jsx)(m,{todoList:n,setTodoList:c,setShowAddListModal:o})]})},x=(n(16),function(){return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)("h2",{className:"boardHeading",children:"Trello Board"}),Object(l.jsx)(f,{})]})});r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.b9b8a371.chunk.js.map